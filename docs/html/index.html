<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TivaC Lcd Driver for 1602A LCD controller: Lcd Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TivaC Lcd Driver for 1602A LCD controller
   </div>
   <div id="projectbrief">A c++ driver for interfacing the TivaC with the 1602A LCD controller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Lcd Driver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Driver using the TivaC Dev board for the 1602A LCD controller. This controller uses a parallel bus that can do 4-bit or 8-bit, there was no standard protocol to talk with it aside from the things noted in the datasheet so it's just pretty big banging until it works</p>
<p>Features:</p>
<ul>
<li>Write data to display, support newline, standard alphanumeric character</li>
<li>Flexible cursor movement</li>
<li>Display supports autoscroll</li>
<li>Reading data from both data ram and character generator ram as well as lcd status</li>
<li>Check display status</li>
<li>Adding new custom characters to character generator ROM, the `{custom_pattern_num} format is used when displaying custom char, example below</li>
<li>Control backLED(provided that you have a relay hooked up to it)</li>
</ul>
<h2>Notes about Usability</h2>
<p>The project was written mainly for my personal usage so there was more hardcoding that I would like for a driver but I have also attempted to make it flexible where possible, you are welcome to add more abstractions to make it look nicer</p>
<h2>Documentations</h2>
<p>There is doxygen docs of the LcdDriver class here:</p>
<p>[]()</p>
<p>Check TivaWare documents(included with the full TivaWare) for other stuffs</p>
<h2>References and Helpful Resources</h2>
<p><a href="https://www.sparkfun.com/datasheets/LCD/HD44780.pdf">HD44780 datasheet, similar but not the same</a></p>
<p><a href="https://www.openhacks.com/uploadsproductos/eone-1602a1.pdf">The 1602 datasheet</a></p>
<p><a href="https://omerk.github.io/lcdchargen/">Custom character generator</a>(Necessary if you want to create your own character)</p>
<h2>Building and the project</h2>
<p>This is a code composer studio(ccs) project so simply cloning and importing it and then set the SW_ROOT inside the project properties to the TivaDep directory would be enough, for example: my SW_ROOT variable is /path/to/this_repo/Tivaware_Dep, for version 8.2.0.00007, the project builds successfully</p>
<p>Building the project using something other than ccs is not guaranteed because TivaWare doesn't play nicely with other IDE from my experience(unless you go through and fix every single include errors)</p>
<p>If you look at the .gitignore of the project, you would see only a fraction of ignore files that usually go into C/C++ and Eclipse project, it was intentional since ccs won't build if I ignore other stuffs, so to play it safe, I only ignore files that are guaranteed to be unimportant</p>
<p>Another note is that if you haven't, you should increase the stacksize allowed by ccs to make sure no weird errors happen</p>
<h2>Project structure</h2>
<ul>
<li><b>Tivaware_Dep/</b>: This is the necessary stuffs pulled from TivaWare, defining pins used for the LCD needs macro from this folder</li>
<li><b>tiva_utils/</b>: general utils stuffs like bit manipulations macros</li>
<li><b>general_timer/</b>: this is a utility class used for timing various things, it uses wide timer 0 of the TivaC for timing purposes, the accuracy is probably in the range of 500 uS</li>
<li><b>src/</b>: this is where the lcd driver code resides<ul>
<li><a class="el" href="lcd__driver_8cpp.html" title="source file for LcdDriver class, contain most user facing methods as well as major backend communicat...">lcd_driver.cpp</a>: the main functions of the LcdDriver class is defined here</li>
<li><a class="el" href="lcd__driver_8hpp.html" title="header file for LcdDriver class ">lcd_driver.hpp</a>: header file declaring the LcdDriver class</li>
<li><a class="el" href="lcd__utils_8cpp.html" title="Implement utils functions from LcdDriver class, low-level backend stuffs are generally here...">lcd_utils.cpp</a>: defining utils functions of the LcdDriver class</li>
<li><a class="el" href="main_8cpp.html" title="main file for the lcd controller, used mainly for development testing as well as serve as an example ...">main.cpp</a>: serve as an example for how to use the LcdDriver class</li>
<li><a class="el" href="lcd__include_8hpp.html" title="header file holding lcd controller specific information like its timing parameter, commands ">lcd_include.hpp</a>: contain timing information, commands and other constants and macros about the LCD</li>
</ul>
</li>
</ul>
<h2>Adding and Using Custom Character</h2>
<p>While most of the projects are documented in doxygen, adding custom character is a little special since it requires external help, you should go to <a href="https://omerk.github.io/lcdchargen/,">https://omerk.github.io/lcdchargen/,</a> create your pattern then grab the array from there</p>
<p>Then in your code:</p>
<div class="fragment"><div class="line"><span class="comment">// creating and preparing the driver</span></div><div class="line"><span class="keyword">auto</span> lcdDriver = LcdDriver(lcdConfig);</div><div class="line">lcdDriver.init();</div><div class="line">lcdDriver.enable();</div><div class="line"></div><div class="line"><span class="comment">// paste the array you got from the website above here</span></div><div class="line">uint8_t charPattern2[] = {0b10000, 0b01000, 0b01011, 0b01110, 0b01010, 0b00010, 0b00010, 0b00010};</div><div class="line">lcdDriver.newCustomCharAdd(charPattern2, 2); <span class="comment">// uses slot 2 for the pattern, you are set to use after this</span></div><div class="line"></div><div class="line"><span class="comment">// using the custom pattern</span></div><div class="line">lcdDriver.displayWrite(<span class="stringliteral">&quot;Pattern: `2&quot;</span>); <span class="comment">// `2 will be replaced with the pattern you just added on the LCD</span></div><div class="line"></div><div class="line"><span class="comment">// the pattern should be printed on the lcd after this</span></div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
